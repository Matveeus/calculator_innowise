(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{let e="",t=0;const n=document.getElementById("output");let u=!0,r=!1;function l(e,t){const n=e.toString(),u=n.indexOf(".");return 0===t||-1===u||0===Number(n.split(".")[1])?n.split(".")[0]:n.substring(0,u+t+1)}function c(e){!function(e){const t=n.value;"."!==e.trim()?"0"!==t&&!0!==u?t.toString().length<=12&&(n.value+=e):n.value=e:!0===u?n.value=0+e:t.includes(".")||(n.value+=e)}(e.target.value),u=!1,r=!1}function a(...e){for(const t of e)if(isNaN(t))return!1;return!0}function o(e){return e.toString().length>=12?l(e=e.toExponential(2),5):l(+(e=e.toFixed(12)),5)}function i(){if(a(t,n.value))switch(e){case"+":n.value=o(Number(t)+Number(n.value));break;case"-":n.value=o(Number(t)-Number(n.value));break;case"*":n.value=o(Number(t)*Number(n.value));break;case"/":0===Number(n.value)?n.value="Error":n.value=o(Number(t)/Number(n.value));break;default:return}}function d(l){const c=l.target.value;if(!0===r)return e=c,void(t=n.value);""!==e&&(i(),e=""),t=n.value,e=c,r=!0,u=!0}document.querySelectorAll(".key-operator").forEach((e=>{e.addEventListener("click",d)})),document.getElementById("clear").addEventListener("click",(function(){e="",t=0,n.value=0})),document.getElementById("switch_sign").addEventListener("click",(function(){a(n.value)&&(n.value=-1*Number(n.value))})),document.getElementById("equal").addEventListener("click",(function(){i(),r=!0,u=!0})),document.getElementById("percent").addEventListener("click",(function(){a(t,n.value)&&(n.value=""===e?n.value/100:Number(t)*Number(n.value)/100)})),document.querySelectorAll(".key-number").forEach((e=>{e.addEventListener("click",c)})),document.getElementById("switch-theme-button").addEventListener("click",(function(){document.querySelector(".body").classList.toggle("day-theme")}))}))})();